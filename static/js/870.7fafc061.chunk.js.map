{"version":3,"file":"static/js/870.7fafc061.chunk.js","mappings":"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","sources":["components/DiaryForm/DairyFormStyle.js","components/DiaryForm/DairyForm.js","pages/DiaryPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\n//form\n\nexport const SForm = styled.form`\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n  flex-direction: column;\n  width: 285px;\n  @media screen and (min-width: 768px) {\n    margin: 0;\n    flex-direction: row;\n    width: 610px;\n    align-items: center;\n    padding-bottom: ${p => p.theme.spacing[5]}px;\n  }\n`;\n\nexport const DContainer = styled.div`\n  margin-left: auto;\n  margin-right: auto;\n  padding-bottom: ${p => p.theme.spacing[5]}px;\n  padding-left: ${p => p.theme.spacing[3]}px;\n  padding-right: ${p => p.theme.spacing[3]}px;\n\n  @media screen and (min-width: 768px) {\n    justify-content: flex-end;\n    padding-bottom: ${p => p.theme.spacing[5]}px;\n    padding-left: ${p => p.theme.spacing[4]}px;\n    padding-right: ${p => p.theme.spacing[4]}px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    padding-bottom: ${p => p.theme.spacing[5]}px;\n    padding-left: ${p => p.theme.spacing[3]}px;\n    padding-right: ${p => p.theme.spacing[3]}px;\n  }\n`;\nexport const ButtonDairy = styled.button`\n  margin-top: ${p => p.theme.spacing[5]}px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 176px;\n  height: 44px;\n  background-color: ${p => p.theme.colors.text.accentText};\n  border-radius: 22px;\n  box-shadow: 0px 4px 10px rgba(252, 132, 45, 0.5);\n  border: none;\n  color: ${p => p.theme.colors.text.inverseText};\n  @media screen and (min-width: 768px) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: auto;\n    margin-bottom: auto;\n    height: 48px;\n    width: 48px;\n    border-radius: ${p => p.theme.radii.round};\n  }\n`;\n\nexport const DairyInput = styled.input`\n  display: flex;\n  outline: none;\n  border: none;\n  border-bottom: 1px solid #e0e0e0;\n  margin-bottom: 30px;\n  padding-bottom: ${p => p.theme.spacing[1]}px;\n  @media screen and (min-width: 768px) {\n    &:not(:last-child) {\n      margin-right: ${p => p.theme.spacing[2]}px;\n      align-content: center;\n      margin-bottom: 0;\n      padding-bottom: ${p => p.theme.spacing[3]}px;\n      align-self: flex-end;\n    }\n  }\n`;\n\nexport const ModalButton = styled(ButtonDairy)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 48px;\n  width: 48px;\n  border-radius: ${p => p.theme.radii.round};\n`;\n\nexport const Plus = styled.span`\n  display: none;\n  @media screen and (min-width: 768px) {\n    display: block;\n  }\n`;\n\nexport const Add = styled.span`\n  @media screen and (min-width: 768px) {\n    display: none;\n  }\n`;\n\n//list\n\nexport const DairyProdLi = styled.li`\n  display: grid;\n  grid-template-columns: 3fr 2fr 2fr 1fr;\n  gap: 8px;\n  & * {\n    border-bottom: 1px solid #e0e0e0;\n    padding-bottom: ${p => p.theme.spacing[1]}px;\n    align-self: flex-end;\n    font-weight: ${p => p.theme.fontWeights.normal};\n    //display: flex;\n  }\n\n  &:not(:last-child) {\n    margin-bottom: ${p => p.theme.spacing[2]}px;\n  }\n  @media screen and (min-width: 768px) {\n    gap: 46px;\n  }\n  @media screen and (min-width: 1280px) {\n    & * {\n      padding-bottom: ${p => p.theme.spacing[3]}px;\n      padding-top: ${p => p.theme.spacing[2]}px;\n    }\n  }\n`;\n\nexport const TitleDairy = styled.div`\n  text-align: left;\n`;\n\nexport const WeightDairy = styled.div`\n  text-align: right;\n`;\n\nexport const CalDairy = styled.div`\n  text-align: right;\n`;\n\nexport const ButtonX = styled.button`\n  display: block;\n  background: transparent;\n  border: none;\n  width: 10px;\n  color: ${p => p.theme.colors.text.mediumText};\n`;\n\nexport const UlDairy = styled.ul`\n  height: 244px;\n  overflow: scroll;\n  @media screen and (min-width: 1280px) {\n    height: 270px;\n  }\n`;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { selectProducts } from '../../redux/products/productsSelectors';\nimport { deleteDiaryEntry } from 'redux/diary/diaryOperations';\nimport { selectDiaryInput } from 'redux/selectors';\nimport { loadProducts } from '../../redux/products/productsOperations';\nimport { addDiaryEntry, getDailyDiary } from '../../redux/diary/diaryOperations';\nimport {\n  SForm,\n  DContainer,\n  ButtonDairy,\n  DairyInput,\n  Add,\n  Plus,\n  DairyProdLi,\n  TitleDairy,\n  WeightDairy,\n  CalDairy,\n  ButtonX,\n  UlDairy,\n  ModalButton,\n} from './DairyFormStyle';\n//import { useEffect } from 'react';\n//import { Modal } from 'components/Modal/Modal';\n\nexport const DairyForm = ({ screenWidth, day }) => {\n  const dispatch = useDispatch();\n  const indexOfFood = null;\n  const form = document.querySelector('dairyproduct');\n  let prod = [];\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  //useEffect(() => {\n  // dispatch(getDailyDiary(day))\n  //    }, [dispatch, day]);\n\n  prod = useSelector(selectDiaryInput);\n\n  const todayDate = () => {\n    const now = new Date();\n    const day = String(now.getDate()).padStart(2, '0');\n    const mon = String(now.getMonth()).padStart(2, '0');\n    const year = now.getFullYear();\n    const genDate = `${day}${mon}${year}`;\n    console.log({ genDate });\n    return genDate;\n  };\n\n  async function searchInBase(e) {\n    console.log('search', e.target.value);\n    if (e.target.dataset !== 'dairyproduct') return;\n    if (e.target.value === '') return;\n    dispatch(loadProducts(e.target.value));\n  }\n\n  console.log({ date: todayDate() });\n\n  function sendMarktoBase(e) {\n    e.preventDefault();\n    // send req with product\n    dispatch(\n      addDiaryEntry({\n        // owner: user._id,\n        date: day || todayDate(),\n        product: indexOfFood,\n        weight: form.elements.weight.value,\n      })\n    );\n    form.reset();\n  }\n\n  const arrOfProducts = useSelector(selectProducts);\n\n  return (\n    <>\n      <DContainer>\n        <SForm id=\"dairyform\" onChange={searchInBase} onSubmit={sendMarktoBase}>\n          <DairyInput id=\"dairyproduct\" name=\"dairyproduct\" data-name=\"dairyproduct\" placeholder=\"Enter product name\" />\n          {arrOfProducts && arrOfProducts.length > 0 && <ListOfProductMatches arr={arrOfProducts} />}\n          <DairyInput id=\"dairyweight\" name=\"dairyweight\" placeholder=\"Grams\" />\n          <ButtonDairy>\n            <Add>Add</Add>\n            <Plus>+</Plus>\n          </ButtonDairy>\n        </SForm>\n        {/* <ListOfEatenProdactsByDay prod={prod} /> */}\n        {prod.length > 0 && <ListOfEatenProdactsByDay products={[]} />}\n\n        {/*}  {screenWidth > 767 && (\n          <SForm id=\"dairyform\" onChange={searchInBase} onSubmit={sendMarktoBase}>\n            <DairyInput\n              id=\"dairyproduct\"\n              name=\"dairyproduct\"\n              data-name=\"dairyproduct\"\n              placeholder=\"Enter product name\"\n            />\n            {arr?.length > 0 && (<ListOfProducts arr={arr} />)}\n            <DairyInput id=\"dairyweight\" name=\"dairyweight\" placeholder=\"Enter product name\" />\n            <ButtonDairy>\n              <Add>Add</Add>\n              <Plus>+</Plus>\n            </ButtonDairy>\n          </SForm>\n        )}\n        {/* */}\n        {screenWidth < 768 && (\n          <ModalButton onClick={() => setIsOpen(!isOpen)}>{<Plus style={{ display: 'block' }}>+</Plus>}</ModalButton>\n        )}\n        {/*isOpen && (\n          <Modal onClose={() => setIsOpen(!isOpen)}>\n            <SForm id=\"dairyform\" onChange={searchInBase} onSubmit={sendMarktoBase}>\n              <DairyInput\n                id=\"dairyproduct\"\n                name=\"dairyproduct\"\n                data-name=\"dairyproduct\"\n                placeholder=\"Enter product name\"\n              />\n              {arr?.length > 0 && <ListOfProducts arr={arr} />}\n              <DairyInput id=\"dairyweight\" name=\"dairyweight\" placeholder=\"Enter product name\" />\n              <ButtonDairy onClick={() => setIsOpen(!isOpen)}>\n                <Add>Add</Add>\n                <Plus>+</Plus>\n              </ButtonDairy>\n            </SForm>\n          </Modal>\n        )} */}\n      </DContainer>\n    </>\n  );\n};\n\nconst ListOfProductMatches = ({ prod }) => {\n  const dispatch = useDispatch();\n  if (prod.length === 0) return;\n  return (\n    <ul>\n      {prod.map(({ title: { ua }, _id }) => {\n        return (\n          <li key={_id} onClick={() => dispatch(loadProducts(ua))}>\n            {ua}\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nconst ListOfEatenProdactsByDay = day => {\n  const dispatch = useDispatch();\n  const prod = dispatch(getDailyDiary(day));\n  return (\n    <>\n      <UlDairy>\n        {prod &&\n          prod.map(el => (\n            <DairyProdLi>\n              <TitleDairy>{el.title.ua}</TitleDairy>\n              <WeightDairy>{el.weight} g</WeightDairy>\n              <CalDairy>{el.calories} kcal</CalDairy>\n              <ButtonX onClick={e => dispatch(deleteDiaryEntry(e.target._id))}>X</ButtonX>\n            </DairyProdLi>\n          ))}\n      </UlDairy>\n    </>\n  );\n};\n","import { Navigate, useParams } from 'react-router';\nimport { useAuth } from 'hooks/useAuth';\nimport { DairyForm } from 'components/DiaryForm/DairyForm';\n\nexport const DairyPage = () => {\n  const { day } = useParams();\n  const { isLoggedIn } = useAuth();\n\n  return isLoggedIn ? <DairyForm day={day} /> : <Navigate to=\"/login\" />;\n};\n\nexport default DairyPage;\n"],"names":["SForm","styled","p","theme","spacing","DContainer","ButtonDairy","colors","text","accentText","inverseText","radii","round","DairyInput","ModalButton","Plus","Add","DairyProdLi","fontWeights","normal","TitleDairy","WeightDairy","CalDairy","ButtonX","mediumText","UlDairy","DairyForm","prod","screenWidth","day","dispatch","useDispatch","form","document","querySelector","useState","isOpen","setIsOpen","useSelector","selectDiaryInput","todayDate","now","Date","String","getDate","padStart","mon","getMonth","year","getFullYear","genDate","console","log","e","target","value","dataset","loadProducts","date","arrOfProducts","selectProducts","id","onChange","onSubmit","preventDefault","addDiaryEntry","product","weight","elements","reset","name","placeholder","length","ListOfProductMatches","arr","ListOfEatenProdactsByDay","products","onClick","style","display","map","ua","title","_id","getDailyDiary","el","calories","deleteDiaryEntry","DairyPage","useParams","useAuth","isLoggedIn","to"],"sourceRoot":""}